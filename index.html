<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Colleague – Remember Words</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f7f7f7;
    margin: 0;
    padding: 20px;
  }
  .app {
    max-width: 500px;
    margin: auto;
    background: white;
    padding: 20px;
    border-radius: 8px;
  }
  h1 {
    text-align: center;
  }
  input {
    width: 100%;
    padding: 10px;
    font-size: 16px;
  }
  button {
    padding: 10px;
    margin-top: 10px;
    width: 100%;
    background: black;
    color: white;
    border: none;
    cursor: pointer;
  }
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    padding: 8px;
    border-bottom: 1px solid #ddd;
    cursor: pointer;
  }
  .meaning {
    font-size: 14px;
    color: #555;
  }
</style>
</head>

<body>

<div class="app">
  <h1>Colleague</h1>

  <input id="wordInput" placeholder="Enter a word" />
  <button onclick="saveWord()">Save Word</button>

  <h3>My Words</h3>
  <ul id="wordList"></ul>
</div>

<script>
  async function fetchEnglishMeaning(word) {
    try {
      const res = await fetch(
        `https://api.dictionaryapi.dev/api/v2/entries/en/${word}`
      );
      const data = await res.json();
      return data[0]?.meanings[0]?.definitions[0]?.definition
        || "Meaning not found";
    } catch {
      return "Meaning not found";
    }
  }

  async function fetchHindiMeaning(word) {
    try {
      const res = await fetch(
        `https://api.mymemory.translated.net/get?q=${word}&langpair=en|hi`
      );
      const data = await res.json();
      return data.responseData.translatedText || "अर्थ नहीं मिला";
    } catch {
      return "अर्थ नहीं मिला";
    }
  }

  function getWords() {
    return JSON.parse(localStorage.getItem("words")) || [];
  }

  async function saveWord() {
    const input = document.getElementById("wordInput");
    const word = input.value.toLowerCase().trim();
    if (!word) return;

    const words = getWords();
    if (words.find(w => w.word === word)) return;

    const en = await fetchEnglishMeaning(word);
    const hi = await fetchHindiMeaning(word);

    words.push({
      word,
      en,
      hi,
      savedAt: Date.now()
    });

    localStorage.setItem("words", JSON.stringify(words));
    input.value = "";
    renderWords();
  }

  function renderWords() {
    const list = document.getElementById("wordList");
    list.innerHTML = "";

    getWords().forEach(w => {
      const li = document.createElement("li");
      li.innerHTML = `
        <strong>${w.word}</strong>
        <div class="meaning">EN: ${w.en}</div>
        <div class="meaning">HI: ${w.hi}</div>
      `;
      list.appendChild(li);
    });
  }

  renderWords();
</script>


</body>
</html>
