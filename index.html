<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Colleague â€“ Remember Words</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f7f7f7;
    margin: 0;
    padding: 20px;
  }
  .app {
    max-width: 500px;
    margin: auto;
    background: white;
    padding: 20px;
    border-radius: 8px;
  }
  h1 {
    text-align: center;
  }
  input {
    width: 100%;
    padding: 10px;
    font-size: 16px;
  }
  button {
    padding: 10px;
    margin-top: 10px;
    width: 100%;
    background: black;
    color: white;
    border: none;
    cursor: pointer;
  }
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    padding: 8px;
    border-bottom: 1px solid #ddd;
    cursor: pointer;
  }
  .meaning {
    font-size: 14px;
    color: #555;
  }
</style>
</head>

<body>

<div class="app">
  <h1>Colleague</h1>
<select id="mode">
  <option value="en-en">English â†’ English</option>
  <option value="en-hi">English â†’ Hindi</option>
</select>

  <input id="wordInput" placeholder="Enter a word" />
  <button onclick="saveWord()">Save Word</button>

  <h3>My Words</h3>
  <ul id="wordList">
<button onclick="speakEnglish('${w.word}')">ğŸ”Š EN</button>
<button onclick="speakHindi('${w.hi}')">ğŸ”Š HI</button>

  </ul>
</div>

<script>
  async function fetchEnglish(word) {
    try {
      const res = await fetch(
        `https://api.dictionaryapi.dev/api/v2/entries/en/${word}`
      );
      const data = await res.json();
      const def = data[0]?.meanings[0]?.definitions[0];
      return {
        meaning: def?.definition || "Meaning not found",
        example: def?.example || "Example not available"
      };
    } catch {
      return { meaning: "Meaning not found", example: "" };
    }
  }

  async function fetchHindi(text) {
    try {
      const res = await fetch(
        `https://api.mymemory.translated.net/get?q=${text}&langpair=en|hi`
      );
      const data = await res.json();
      return data.responseData.translatedText || "à¤…à¤°à¥à¤¥ à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾";
    } catch {
      return "à¤…à¤°à¥à¤¥ à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾";
    }
  }

  function speak(text) {
    const u = new SpeechSynthesisUtterance(text);
    u.lang = "en-US";
    speechSynthesis.speak(u);
  }

  function getWords() {
    return JSON.parse(localStorage.getItem("words")) || [];
  }

  async function saveWord() {
    const word = document.getElementById("wordInput").value.toLowerCase().trim();
    const mode = document.getElementById("mode").value;
    if (!word) return;

    const words = getWords();
    if (words.find(w => w.word === word)) return;

    const en = await fetchEnglish(word);
    let hi = "";

    if (mode === "en-hi") {
      hi = await fetchHindi(en.meaning);
    }

    words.push({
      word,
      enMeaning: en.meaning,
      example: en.example,
      hiMeaning: hi
    });

    localStorage.setItem("words", JSON.stringify(words));
    document.getElementById("wordInput").value = "";
    renderWords();
  }

  function renderWords() {
    const mode = document.getElementById("mode").value;
    const list = document.getElementById("wordList");
    list.innerHTML = "";

    getWords().forEach(w => {
      let meaning =
        mode === "en-en"
          ? w.enMeaning
          : w.hiMeaning || "à¤…à¤°à¥à¤¥ à¤‰à¤ªà¤²à¤¬à¥à¤§ à¤¨à¤¹à¥€à¤‚";

      const li = document.createElement("li");
      li.innerHTML = `
        <strong>${w.word}</strong><br>
        <small><b>Meaning:</b> ${meaning}</small><br>
        <small><b>Example:</b> ${w.example}</small><br>
        <button onclick="speak('${w.word}')">ğŸ”Š Pronounce</button>
      `;
      list.appendChild(li);
    });
  }

  document.getElementById("mode").addEventListener("change", renderWords);
  renderWords();
</script>


</body>
</html>
